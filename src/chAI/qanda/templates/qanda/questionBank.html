{% extends "qanda/base.html" %}
{% load static %}
{% block title %}Test{% endblock %}

{% block content %}
    <div class="place-items-center py-12 px-20">
        <h2 class="mb-4 text-4xl font-extrabold"> 
        Questions 
        
        
        </h2>
        <!-- {% for question in questions %}
                
            <div class="flex items-center justify-between flex-wrap bg-gray-100 p-4 rounded-lg shadow-lg mb-3">
                <div class="">
                    <h2 class="text-2xl font-bold mb-2 text-gray-800">{{question.question}}</h2>
                    <p class="text-sm text-gray-700"><b>Expected answer 1: </b>{{question.answer1}}</p>
                    <br>
                    <p class="text-sm text-gray-700"><b>Expected answer 2: </b>{{question.answer2}}</p>
                    <br>
                    <p class="text-sm text-gray-700"><b>Expected answer 3: </b>{{question.answer3}}</p>
                    <br>
                    <p class="text-sm text-gray-700"><b>Expected answer 4: </b>{{question.answer4}}</p>
                    <br>
                    <p class="text-sm text-gray-700"><b>Expected answer 5: </b>{{question.answer4}}</p>
                

                </div>
            </div>
        {% endfor %} -->
        <div class="-mx-3 mb-6">
            <!-- <h3 class="mt-6 text-gray-600 text-2xl font-bold opacity-0.5 mb-2">
              Questions
            </h3>
   -->
            <div>
                {% for question in questions %}
                <div class="flex mt-2 h-[220px]">
                    <div class="h-auto w-48 bg-cover rounded-t-none rounded-l text-center overflow-hidden" title="Mountain">
                      <Image class="w-full h-full" src="{% static 'images/examsheet.png' %}" alt="examsheet" />
                    </div>
                    <div class="w-full border-r border-b border-l border-gray-400  border-t bg-white rounded-b rounded-r p-4 flex flex-col justify-between leading-normal">
                      <div class="mb-8">
                        <p class="text-sm text-gray-600 flex items-center">
                          <svg class="fill-current text-gray-500 w-3 h-3 mr-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
                            <path d="M4 8V6a6 6 0 1 1 12 0v2h1a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h1zm5 6.73V17h2v-2.27a2 2 0 1 0-2 0zM7 6v2h6V6a3 3 0 0 0-6 0z" />
                          </svg>
                          Private
                        </p>
                        <div class="text-gray-900 font-bold text-xl mb-2">{{question.question}}</div>
                        <!-- {{ form.answer }} -->
                        <select name="answer" class="form-control [border:1px_solid_#000] bg-white self-stretch box-border flex flex-row items-center justify-start" id="id_answer_{{forloop.counter}}">
                            <option value="1">Answer 1</option>
                          
                            <option value="2">Answer 2</option>
                          
                            <option value="3">Answer 3</option>
                          
                            <option value="4">Answer 4</option>
                          
                            <option value="5">Answer 5</option>
                          
                          </select>

                        <p class="text-gray-700 text-base"><span id="current-answer-{{forloop.counter}}">{{question.answer1|truncatechars:355}}</span></p>
                        <!-- <p class="text-gray-700 text-base"><b>Answer 2: </b>{{question.answer2|truncatechars:500}}</p>
                        <p class="text-gray-700 text-base"><b>Answer 3: </b>{{question.answer3|truncatechars:500}}</p>
                        <p class="text-gray-700 text-base"><b>Answer 4: </b>{{question.answer4|truncatechars:500}}</p>
                        <p class="text-gray-700 text-base"><b>Answer 5: </b>{{question.answer5|truncatechars:500}}</p> -->
                      </div>
                      <div class="flex items-center">
                        <div class="text-sm">
                          <p class="text-gray-900 leading-none">Marks: {{question.totalMarks}}</p>
                        </div>
                      </div>
                    </div>
                  </div>
                  

                  {% endfor %}
            </div>
          </div>


          

    
    </div>
    
        <script>
            {% for question in questions %}
            console.log("{{question.answer1}}")
            const select_{{forloop.counter}} = document.getElementById('id_answer_{{forloop.counter}}');
            const currentAnswer_{{forloop.counter}} = document.getElementById('current-answer-{{forloop.counter}}');
            select_{{forloop.counter}}.addEventListener('change', function() {
                // currentAnswer.textContent = this.value;
                if (select_{{forloop.counter}}.value == 1) {
                    currentAnswer_{{forloop.counter}}.textContent = "{{question.answer1|truncatechars:355}}";
                }
                else if (select_{{forloop.counter}}.value == 2) {
                    currentAnswer_{{forloop.counter}}.textContent = "{{question.answer2|truncatechars:355}}";
                }
                else if (select_{{forloop.counter}}.value == 3) {
                    currentAnswer_{{forloop.counter}}.textContent = "{{question.answer3|truncatechars:355}}";
                }
                else if (select_{{forloop.counter}}.value == 4) {
                    currentAnswer_{{forloop.counter}}.textContent = "{{question.answer4|truncatechars:355}}";
                }
                else if (select_{{forloop.counter}}.value == 5) {
                    currentAnswer_{{forloop.counter}}.textContent = "{{question.answer5|truncatechars:355}}";
                }
                console.log("{{question.answer1}}");
            });       
            {% endfor %}
        </script>
    
{% endblock %}